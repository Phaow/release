chain:
  as: cucushift-installer-rehearse-aws-ipi-disconnected-private-cco-manual-security-token-service-efs-provision
  steps:
    - chain: cucushift-installer-rehearse-aws-ipi-disconnected-private-cco-manual-security-token-service-provision
    - chain: storage-conf-csi-optional-aws-efs
  env:
  - name: CONTROL_PLANE_INSTANCE_TYPE
    default: "m6i.xlarge"
    documentation: "Instance type for control plane nodes"
  - name: COMPUTE_NODE_TYPE
    default: "m5.xlarge"
    documentation: "Instance type for compute nodes"
  - name: ADD_INGRESS_RECORDS_MANUALLY
    default: "yes"
    documentation: "Enable manually create apps dns record."
  - name: CREATE_EFS_CSI_DRIVER_IAM
    default: "yes"
    documentation: "Enable creating amazon efs csi driver iam."
  - name: PUBLISH
    default: "Internal"
    documentation: "Cluster publish strategy."
  - name: TEST_MODE
    default: "qe-ci"
    documentation: "Install the efs csi driver operator test mode."
  documentation: |-
    Create an IPI cluster on AWS for QE e2e tests.
